<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="The first things we get told are that:  We should make an HTTP request to the root of the server There’s a message left behind by the attacker  Starting with the first one, this is the response we get">
<meta property="og:type" content="article">
<meta property="og:title" content="Xmas Cheer Laser">
<meta property="og:url" content="http://tcmal.xyz/laser/index.html">
<meta property="og:site_name" content="tcmal">
<meta property="og:description" content="The first things we get told are that:  We should make an HTTP request to the root of the server There’s a message left behind by the attacker  Starting with the first one, this is the response we get">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-01-19T00:00:00.000Z">
<meta property="article:modified_time" content="2020-11-19T15:58:36.734Z">
<meta property="article:author" content="tcmal">
<meta property="article:tag" content="Infosec">
<meta property="article:tag" content="Windows">
<meta property="article:tag" content="Forensics">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Xmas Cheer Laser</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.1"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/archives/">Recent</a></li>
         
          <li><a href="https://github.com/tcmal" target="_blank" rel="noopener">GitHub</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/keypad/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/paper-scraps/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://tcmal.xyz/laser/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://tcmal.xyz/laser/&text=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://tcmal.xyz/laser/&is_video=false&description=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Xmas Cheer Laser&body=Check out this article: http://tcmal.xyz/laser/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://tcmal.xyz/laser/&name=Xmas Cheer Laser&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://tcmal.xyz/laser/&t=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Xmas Cheer Laser
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">tcmal</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-01-19T00:00:00.000Z" itemprop="datePublished">2020-01-19</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Holiday-Hack-2019/">Holiday Hack 2019</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Forensics/" rel="tag">Forensics</a>, <a class="tag-link" href="/tags/Infosec/" rel="tag">Infosec</a>, <a class="tag-link" href="/tags/Web/" rel="tag">Web</a>, <a class="tag-link" href="/tags/Windows/" rel="tag">Windows</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>The first things we get told are that:</p>
<ul>
<li>We should make an HTTP request to the root of the server</li>
<li>There’s a message left behind by the attacker</li>
</ul>
<p>Starting with the first one, this is the response we get:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">----------------------------------------------------</span><br><span class="line">Christmas Cheer Laser Project Web API</span><br><span class="line">----------------------------------------------------</span><br><span class="line">Turn the laser on&#x2F;off:</span><br><span class="line">GET http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;on</span><br><span class="line">GET http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;off</span><br><span class="line"></span><br><span class="line">Check the current Mega-Jollies of laser output</span><br><span class="line">GET http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;output</span><br><span class="line"></span><br><span class="line">Change the lense refraction value (1.0 - 2.0):</span><br><span class="line">GET http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;refraction?val&#x3D;1.0</span><br><span class="line"></span><br><span class="line">Change laser temperature in degrees Celsius:</span><br><span class="line">GET http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;temperature?val&#x3D;-10</span><br><span class="line"></span><br><span class="line">Change the mirror angle value (0 - 359):</span><br><span class="line">GET http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;angle?val&#x3D;45.1</span><br><span class="line"></span><br><span class="line">Change gaseous elements mixture:</span><br><span class="line">POST http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;gas</span><br><span class="line">POST BODY EXAMPLE (gas mixture percentages):</span><br><span class="line">O&#x3D;5&amp;H&#x3D;5&amp;He&#x3D;5&amp;N&#x3D;5&amp;Ne&#x3D;20&amp;Ar&#x3D;10&amp;Xe&#x3D;10&amp;F&#x3D;20&amp;Kr&#x3D;10&amp;Rn&#x3D;10</span><br><span class="line">----------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>So presumably we need the right refraction, temperature, angle and elements mixture to get the best power output, which is 5 Mega Jollies per litre.</p>
<p>Looking at our second clue, although we have a nix directory structure we’re clearly in a powershell prompt, so we need to use mostly Windows/PS commands to actually do anything.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; type ..&#x2F;callingcard.txt</span><br><span class="line">What&#39;s become of your dear laser?</span><br><span class="line">Fa la la la la, la la la la</span><br><span class="line">Seems you can&#39;t now seem to raise her!</span><br><span class="line">Fa la la la la, la la la la</span><br><span class="line">Could commands hold riddles in hist&#39;ry?</span><br><span class="line">Fa la la la la, la la la la</span><br><span class="line">Nay! You&#39;ll ever suffer myst&#39;ry!</span><br><span class="line">Fa la la la la, la la la la</span><br></pre></td></tr></table></figure>

<p>We can look at the command history with the command <code>Get-History</code>. This truncates a couple commands though, so we select the important field then pipe it to <code>Format-List</code> to print it in full:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; Get-History | select CommandLine | Format-List</span><br><span class="line">CommandLine : Get-Help -Name Get-Process </span><br><span class="line">CommandLine : Get-Help -Name Get-* </span><br><span class="line">CommandLine : Set-ExecutionPolicy Unrestricted </span><br><span class="line">CommandLine : Get-Service | ConvertTo-HTML -Property Name, Status &gt; C:\services.htm </span><br><span class="line">CommandLine : Get-Service | Export-CSV c:\service.csv </span><br><span class="line">CommandLine : Get-Service | Select-Object Name, Status | Export-CSV C:\service.csv </span><br><span class="line">CommandLine : (Invoke-WebRequest http:&#x2F;&#x2F;127.0.0.1:1225&#x2F;api&#x2F;angle?val&#x3D;65.5).RawContent</span><br><span class="line">CommandLine : Get-EventLog -Log &quot;Application&quot; </span><br><span class="line">CommandLine : I have many name&#x3D;value variables that I share to applications system wide. </span><br><span class="line">              At a command I will reveal my secrets once you Get my Child Items.</span><br><span class="line">CommandLine : (Invoke-WebRequest -Uri http:&#x2F;&#x2F;localhost:1225&#x2F;).RawContent</span><br><span class="line">CommandLine : type callingcard.txt</span><br><span class="line">CommandLine : type ..&#x2F;callingcard.txt</span><br><span class="line">CommandLine : Get-History</span><br><span class="line">CommandLine : Get-History | Format-List</span><br><span class="line">CommandLine : Get-History | select CommandLine</span><br></pre></td></tr></table></figure>

<p>The first thing we see is a call to the api which sets the angle to <code>65.5 degrees</code>. It’s possible this is meant to be the correct value of our angle parameter. We also see the services on the system being dumped to <code>C:\service.csv</code> and <code>C:\services.htm</code>. Neither of these files exist anymore, so we’ll ignore this for now.</p>
<p>The actual clue in this history is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I have many name&#x3D;value variables that I share to applications system wide. </span><br><span class="line">              At a command I will reveal my secrets once you Get my Child Items.</span><br></pre></td></tr></table></figure>

<p>This seems to be alluding to <code>$Env</code>, which stores global environment variables such as PATH, HOSTNAME, etc. Powershell lets us address it as a drive, so we can <code>cd</code> into it and <code>ls</code>, except the powershell versions of those.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; Set-Location Env:</span><br><span class="line">PS Env:&#x2F;&gt; Get-ChildItem</span><br><span class="line"></span><br><span class="line">Name                           Value</span><br><span class="line">----                           -----</span><br><span class="line">_                              &#x2F;bin&#x2F;su</span><br><span class="line">DOTNET_SYSTEM_GLOBALIZATION_I… false</span><br><span class="line">HOME                           &#x2F;home&#x2F;elf</span><br><span class="line">HOSTNAME                       6071085c6a89</span><br><span class="line">LANG                           en_US.UTF-8</span><br><span class="line">LC_ALL                         en_US.UTF-8</span><br><span class="line">LOGNAME                        elf</span><br><span class="line">MAIL                           &#x2F;var&#x2F;mail&#x2F;elf</span><br><span class="line">PATH                           &#x2F;opt&#x2F;microsoft&#x2F;powershell&#x2F;6:&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;local&#x2F;bi…</span><br><span class="line">PSModuleAnalysisCachePath      &#x2F;var&#x2F;cache&#x2F;microsoft&#x2F;powershell&#x2F;PSModuleAnalysisCache&#x2F;Mod…</span><br><span class="line">PSModulePath                   &#x2F;home&#x2F;elf&#x2F;.local&#x2F;share&#x2F;powershell&#x2F;Modules:&#x2F;usr&#x2F;local&#x2F;shar…</span><br><span class="line">PWD                            &#x2F;home&#x2F;elf</span><br><span class="line">RESOURCE_ID                    f56c8ff0-128e-48f1-8b91-0c967f900f22</span><br><span class="line">riddle                         Squeezed and compressed I am hidden away. Expand me from …</span><br><span class="line">SHELL                          &#x2F;home&#x2F;elf&#x2F;elf</span><br><span class="line">SHLVL                          1</span><br><span class="line">TERM                           xterm</span><br><span class="line">USER                           elf</span><br><span class="line">USERDOMAIN                     laserterminal</span><br><span class="line">userdomain                     laserterminal</span><br><span class="line">username                       elf</span><br><span class="line">USERNAME                       elf</span><br></pre></td></tr></table></figure>

<p>Again, we need to format as a list to see the <code>riddle</code> item in full.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PS Env:&#x2F;&gt; get-childitem riddle | format-list</span><br><span class="line"></span><br><span class="line">Name  : riddle</span><br><span class="line">Value : Squeezed and compressed I am hidden away. Expand me from my prison and I will </span><br><span class="line">        show you the way. Recurse through all &#x2F;etc and Sort on my LastWriteTime to </span><br><span class="line">        reveal im the newest of all.</span><br></pre></td></tr></table></figure>

<p>So first we need to find the newest file in <code>/etc</code>. We can recurse through all subdirectories using <code>Get-ChildItem -Recurse</code>, however this breaks up the output into one list for each folder. If we try to sort this we’ll sort based on the newest in each folder. So we extract just the fields we want and, in doing so, flatten the output with <code>select</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;&gt; Get-ChildItem -Recurse etc | select FullName,LastWriteTime</span><br><span class="line">[...]</span><br></pre></td></tr></table></figure>

<p>Now we sort based on the LastWriteTime and pull out the first entry. Descending means newest first, since a higher timestamp value is further on.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;&gt; Get-ChildItem -Recurse etc | select FullName,LastWriteTime | sort -Descending LastWriteTime | select -First 1 FullName</span><br><span class="line">FullName</span><br><span class="line">--------</span><br><span class="line">&#x2F;etc&#x2F;apt&#x2F;archive</span><br></pre></td></tr></table></figure>

<p>So <code>/etc/apt/archive</code> is the archive we need to extract. A quick google shows that the powershell command is actually <code>Expand-Archive</code>, so let’s go back home and extract it there.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; Expand-Archive &#x2F;etc&#x2F;apt&#x2F;archive</span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; Expand-Archive &#x2F;etc&#x2F;apt&#x2F;archive</span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; dir                                                           </span><br><span class="line">                                                                             </span><br><span class="line">Mode                LastWriteTime         Length Name</span><br><span class="line">----                -------------         ------ ----</span><br><span class="line">d-----          12&#x2F;26&#x2F;19  1:46 PM                archive</span><br><span class="line">d-r---          12&#x2F;13&#x2F;19  5:15 PM                depths</span><br><span class="line">--r---          12&#x2F;13&#x2F;19  4:29 PM           2029 motd</span><br><span class="line"></span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; dir archive</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Directory: &#x2F;home&#x2F;elf&#x2F;archive</span><br><span class="line"></span><br><span class="line">Mode                LastWriteTime         Length Name</span><br><span class="line">----                -------------         ------ ----</span><br><span class="line">d-----          12&#x2F;26&#x2F;19  1:46 PM                refraction</span><br><span class="line"></span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; dir .&#x2F;archive&#x2F;refraction&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Directory: &#x2F;home&#x2F;elf&#x2F;archive&#x2F;refraction</span><br><span class="line"></span><br><span class="line">Mode                LastWriteTime         Length Name</span><br><span class="line">----                -------------         ------ ----</span><br><span class="line">------           11&#x2F;7&#x2F;19 11:57 AM            134 riddle</span><br><span class="line">------           11&#x2F;5&#x2F;19  2:26 PM        5724384 runme.elf</span><br></pre></td></tr></table></figure>

<p>Let’s start by running <code>runme</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&#x2F;archive&#x2F;refraction&gt; chmod +x runme.elf</span><br><span class="line">PS &#x2F;home&#x2F;elf&#x2F;archive&#x2F;refraction&gt; .&#x2F;runme.elf</span><br><span class="line">refraction?val&#x3D;1.867</span><br></pre></td></tr></table></figure>

<p>So now we have the intended value for refraction. Let’s look at the riddle:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Very shallow am I in the depths of your elf home. You can find my entity by using my md5 identity:</span><br><span class="line"></span><br><span class="line">25520151A320B5B0D21561F92C8F6224</span><br></pre></td></tr></table></figure>

<p>So it looks like we need to search <code>~/depths</code> recursively for a file with the given MD5 Hash. For this we hash every <em>file</em> in it recursively (up to a certain depth since we’re just testing right now):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&#x2F;depths&gt; Get-ChildItem -File -Recurse -Depth 1 | Get-FileHash -Algorithm MD5</span><br><span class="line"></span><br><span class="line">[...]</span><br></pre></td></tr></table></figure>

<p>Now we just need to filter for the given hash and read the file it finds:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&#x2F;depths&gt; Get-ChildItem -File -Recurse | Get-FileHash -Algorithm MD5 | where Hash -eq &quot;25520151A320B5B0D21561F92C8F6224&quot; | select Path</span><br><span class="line"></span><br><span class="line">Path</span><br><span class="line">----</span><br><span class="line">&#x2F;home&#x2F;elf&#x2F;depths&#x2F;produce&#x2F;thhy5hll.txt</span><br><span class="line"></span><br><span class="line">PS &#x2F;home&#x2F;elf&#x2F;depths&gt; type produce&#x2F;thhy5hll.txt</span><br><span class="line">temperature?val&#x3D;-33.5</span><br><span class="line"></span><br><span class="line">I am one of many thousand similar txt&#39;s contained within the deepest of &#x2F;home&#x2F;elf&#x2F;depths. Finding me will give you the most strength but doing so will require Piping all the FullName&#39;s to Sort Length.</span><br></pre></td></tr></table></figure>

<p>So now we have every parameter except the elements mix. Now we need to find the longest file path of all the files in depths. For this, we can use <code>sort</code> (actually <code>Sort-Object</code>) with an extra script block:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&#x2F;depths&gt; Get-ChildItem -File -Recurse | sort -Descending &#123;$_.FullName.length&#125; | select -First 1 FullName | Format-List</span><br><span class="line"></span><br><span class="line">FullName : &#x2F;home&#x2F;elf&#x2F;depths&#x2F;larger&#x2F;cloud&#x2F;behavior&#x2F;beauty&#x2F;enemy&#x2F;produce&#x2F;age&#x2F;chair&#x2F;unknown&#x2F;escape&#x2F;vote&#x2F;long&#x2F;writer&#x2F;behind&#x2F;ahead&#x2F;thin&#x2F;occasionally&#x2F;explore&#x2F;tape&#x2F;wherever&#x2F;practical&#x2F;therefore&#x2F;cool&#x2F;plate&#x2F;ice&#x2F;play&#x2F;truth&#x2F;potatoes&#x2F;beauty&#x2F;fourth&#x2F;careful&#x2F;dawn&#x2F;adult&#x2F;either&#x2F;burn&#x2F;end&#x2F;accurate&#x2F;rubbed&#x2F;cake&#x2F;main&#x2F;she&#x2F;threw&#x2F;eager&#x2F;trip&#x2F;to&#x2F;soon&#x2F;think&#x2F;fall&#x2F;is&#x2F;greatest&#x2F;become&#x2F;accident&#x2F;labor&#x2F;sail&#x2F;dropped&#x2F;fox&#x2F;0jhj5xz6.txt</span><br></pre></td></tr></table></figure>

<p>Our script block just gets the FullName property of our input (<code>$_</code>), then returns the length property of that, which is interpreted as the number to sort. Again we use descending to put the biggest at the top. We also need to <code>Format-List</code> because it’s long enough to get truncated.</p>
<p>Our next clue is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Get process information to include Username identification. Stop Process to show me you&#39;re skilled and in this order they must be killed:</span><br><span class="line"></span><br><span class="line">bushy</span><br><span class="line">alabaster</span><br><span class="line">minty</span><br><span class="line">holly</span><br><span class="line"></span><br><span class="line">Do this for me and then you &#x2F;shall&#x2F;see.</span><br></pre></td></tr></table></figure>

<p>We can get all the processes with <code>Get-Process</code>, but we need to add <code>-IncludeUserName</code>, since this needs admin privilleges.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&#x2F;depths&gt; Get-Process -IncludeUserName</span><br><span class="line"></span><br><span class="line">     WS(M)   CPU(s)      Id UserName                       ProcessName</span><br><span class="line">     -----   ------      -- --------                       -----------</span><br><span class="line">     27.01     0.52       6 root                           CheerLaserServi</span><br><span class="line">    182.66     4.44      31 elf                            elf</span><br><span class="line">      3.50     0.03       1 root                           init</span><br><span class="line">      0.78     0.00      23 bushy                          sleep</span><br><span class="line">      0.72     0.00      25 alabaster                      sleep</span><br><span class="line">      0.72     0.00      27 minty                          sleep</span><br><span class="line">      0.77     0.00      29 holly                          sleep</span><br><span class="line">      3.28     0.00      30 root                           su</span><br></pre></td></tr></table></figure>

<p>Now we just kill them in the right order.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&#x2F;depths&gt; kill 23 25 27 29</span><br></pre></td></tr></table></figure>

<p><code>/shall/see</code> looks like a file path, and sure enough if we read from it we find our next hint:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&#x2F;depths&gt; type &#x2F;shall&#x2F;see</span><br><span class="line">Get the .xml children of &#x2F;etc - an event log to be found. Group all .Id&#39;s and the last thing will be in the Properties of the lonely unique event Id.</span><br></pre></td></tr></table></figure>

<p>First let’s find our file and copy it to our home for convenience:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;&gt; Get-ChildItem -Recurse -File etc | where Name -match &quot;.*\.xml&quot;</span><br><span class="line"></span><br><span class="line">    Directory: &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;timers.target.wants</span><br><span class="line"></span><br><span class="line">Mode                LastWriteTime         Length Name</span><br><span class="line">----                -------------         ------ ----</span><br><span class="line">--r---          11&#x2F;18&#x2F;19  7:53 PM       10006962 EventLog.xml</span><br></pre></td></tr></table></figure>

<p>Now we need to parse it as an XML document. Luckily, Powershell lets us do this just by casting it:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; [xml]$doc &#x3D; type EventLog.xml</span><br></pre></td></tr></table></figure>

<p>Now we can address our nodes using dotnotation, but first let’s take a quick look at our actual document:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; type EventLog.xml | select -first 10</span><br><span class="line">&lt;Objs Version&#x3D;&quot;1.1.0.1&quot; xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;powershell&#x2F;2004&#x2F;04&quot;&gt;</span><br><span class="line">  &lt;Obj RefId&#x3D;&quot;0&quot;&gt;</span><br><span class="line">    &lt;TN RefId&#x3D;&quot;0&quot;&gt;</span><br><span class="line">      &lt;T&gt;System.Diagnostics.Eventing.Reader.EventLogRecord&lt;&#x2F;T&gt;</span><br><span class="line">      &lt;T&gt;System.Diagnostics.Eventing.Reader.EventRecord&lt;&#x2F;T&gt;</span><br><span class="line">      &lt;T&gt;System.Object&lt;&#x2F;T&gt;</span><br><span class="line">    &lt;&#x2F;TN&gt;</span><br><span class="line">    &lt;ToString&gt;System.Diagnostics.Eventing.Reader.EventLogRecord&lt;&#x2F;ToString&gt;</span><br><span class="line">    &lt;Props&gt;</span><br><span class="line">      &lt;I32 N&#x3D;&quot;Id&quot;&gt;3&lt;&#x2F;I32&gt;</span><br></pre></td></tr></table></figure>

<p>It’s kind of a weird structure but we see that our top level element is an <code>Objs</code> element with a (dead) link to a schema and a bunch of <code>Obj</code> elements inside. The <code>.Id</code> attribute the clue is talking about is presumably at <code>&lt;Obj&gt;.Props.I32</code> where N=”Id”.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; $doc.Objs.Obj | % &#123;$_.Props.I32.where(&#123;$_.N -eq &quot;Id&quot;&#125;)&#125; | Group-Object &#39;#text&#39;</span><br><span class="line"></span><br><span class="line">Count Name                      Group</span><br><span class="line">----- ----                      -----</span><br><span class="line">    1 1                         &#123;I32&#125;</span><br><span class="line">   39 2                         &#123;I32, I32, I32, I32…&#125;</span><br><span class="line">  179 3                         &#123;I32, I32, I32, I32…&#125;</span><br><span class="line">    2 4                         &#123;I32, I32&#125;</span><br><span class="line">  905 5                         &#123;I32, I32, I32, I32…&#125;</span><br><span class="line">   98 6                         &#123;I32, I32, I32, I32…&#125;</span><br></pre></td></tr></table></figure>

<p>We take in every object, then map each one to its child I32s that have N=”Id”. At this point we technically have a 2D array, but the pipe then flattens it out so <code>Group-Object</code> just gets an array of <code>I32</code> objects. We then tell it to group by the actual inner text value (the id) and we see we’re looking for the only event with ID 1.</p>
<p>It seems like we could try to read the <code>Group</code> property, but remember that’s just our I32 rather than the full context. </p>
<p>It’s possible to filter the parsed XML structure we already have, but since we know we’re looking for <code>&lt;I32 N=&quot;Id&quot;&gt;1&lt;/I32&gt;</code>, we can just search through the file and read the XML ourselves. After some experimentation with the <code>-Context</code> param,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; type .&#x2F;EventLog.xml | select-string &#39;&lt;I32 N&#x3D;&quot;Id&quot;&gt;1&lt;&#x2F;I32&gt;&#39; -Context 8,140</span><br><span class="line"></span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; type .&#x2F;EventLog.xml | select-string &#39;&lt;I32 N&#x3D;&quot;Id&quot;&gt;1&lt;&#x2F;I32&gt;&#39; -Context 8,140</span><br><span class="line">    &lt;Obj RefId&#x3D;&quot;1800&quot;&gt;</span><br><span class="line">      &lt;TN RefId&#x3D;&quot;1800&quot;&gt;</span><br><span class="line">        &lt;T&gt;System.Diagnostics.Eventing.Reader.EventLogRecord&lt;&#x2F;T&gt;</span><br><span class="line">        &lt;T&gt;System.Diagnostics.Eventing.Reader.EventRecord&lt;&#x2F;T&gt;</span><br><span class="line">        &lt;T&gt;System.Object&lt;&#x2F;T&gt;</span><br><span class="line">      &lt;&#x2F;TN&gt;</span><br><span class="line">      &lt;ToString&gt;System.Diagnostics.Eventing.Reader.EventLogRecord&lt;&#x2F;ToString&gt;</span><br><span class="line">      &lt;Props&gt;</span><br><span class="line">&gt;       &lt;I32 N&#x3D;&quot;Id&quot;&gt;1&lt;&#x2F;I32&gt;</span><br><span class="line">        &lt;By N&#x3D;&quot;Version&quot;&gt;5&lt;&#x2F;By&gt;</span><br><span class="line">        </span><br><span class="line">        [...]</span><br><span class="line"></span><br><span class="line">            &lt;Obj RefId&#x3D;&quot;18016&quot;&gt;</span><br><span class="line">              &lt;TNRef RefId&#x3D;&quot;1806&quot; &#x2F;&gt;</span><br><span class="line">              &lt;ToString&gt;System.Diagnostics.Eventing.Reader.EventProperty&lt;&#x2F;ToString&gt;</span><br><span class="line">              &lt;Props&gt;</span><br><span class="line">                &lt;S N&#x3D;&quot;Value&quot;&gt;C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe </span><br><span class="line">-c &quot;&#96;$correct_gases_postbody &#x3D; @&#123;&#96;n    O&#x3D;6&#96;n    H&#x3D;7&#96;n    He&#x3D;3&#96;n    N&#x3D;4&#96;n    Ne&#x3D;22&#96;n</span><br><span class="line">Ar&#x3D;11&#96;n    Xe&#x3D;10&#96;n    F&#x3D;20&#96;n    Kr&#x3D;8&#96;n    Rn&#x3D;9&#96;n&#125;&#96;n&quot;&lt;&#x2F;S&gt;</span><br><span class="line">              &lt;&#x2F;Props&gt;</span><br></pre></td></tr></table></figure>

<p>So we now know our final parameters are:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">temperature &#x3D; -33.5</span><br><span class="line">refraction &#x3D; 1.867</span><br><span class="line">angle &#x3D; 65.5</span><br><span class="line">correct_gases &#x3D; O&#x3D;6 H&#x3D;7 He&#x3D;3 N&#x3D;4 Ne&#x3D;22 Ar&#x3D;11 Xe&#x3D;10 F&#x3D;20 Kr&#x3D;8 Rn&#x3D;9</span><br></pre></td></tr></table></figure>

<p>So now let’s set our properties like the API docs told us to:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">PS &#x2F;home&#x2F;elf&gt; (Invoke-WebRequest -Uri &#39;http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;refraction?val&#x3D;1.867&#39;).RawContent</span><br><span class="line">HTTP&#x2F;1.0 200 OK                                                                           </span><br><span class="line">Server: Werkzeug&#x2F;0.16.0                                                                   </span><br><span class="line">Server: Python&#x2F;3.6.9                                                                      </span><br><span class="line">Date: Thu, 26 Dec 2019 15:00:33 GMT                                                       </span><br><span class="line">Content-Type: text&#x2F;html; charset&#x3D;utf-8</span><br><span class="line">Content-Length: 87</span><br><span class="line"></span><br><span class="line">Updated Lense Refraction Level - Check &#x2F;api&#x2F;output if 5 Mega-Jollies per liter reached.</span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; (Invoke-WebRequest -Uri &#39;http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;temperature?val&#x3D;-33.5&#39;).RawContent</span><br><span class="line"></span><br><span class="line">[...]</span><br><span class="line"></span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; (Invoke-WebRequest -Uri &#39;http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;angle?val&#x3D;65.5&#39;).RawContent</span><br><span class="line">[...]</span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; (Invoke-WebRequest -Uri &#39;http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;gas&#39; -Method POST -Body @&#123;O&#x3D;6; H&#x3D;7; He&#x3D;3; N&#x3D;4; Ne&#x3D;22; Ar&#x3D;11; Xe&#x3D;10; F&#x3D;20; Kr&#x3D;8; Rn&#x3D;9&#125;).RawContent</span><br><span class="line">[...]</span><br><span class="line"></span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; (Invoke-WebRequest -Uri &#39;http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;on&#39;).RawContent</span><br><span class="line">[...]</span><br><span class="line"></span><br><span class="line">PS &#x2F;home&#x2F;elf&gt; (Invoke-WebRequest -Uri &#39;http:&#x2F;&#x2F;localhost:1225&#x2F;api&#x2F;output&#39;).RawContent</span><br><span class="line">HTTP&#x2F;1.0 200OK                                                                           </span><br><span class="line">Server: Werkzeug&#x2F;0.16.0                                                                   </span><br><span class="line">Server: Python&#x2F;3.6.9                                                                      </span><br><span class="line">Date: Thu, 26 Dec 2019 15:09:31 GMT               </span><br><span class="line">Content-Type: text&#x2F;html; charset&#x3D;utf-8</span><br><span class="line">Content-Length: 200</span><br><span class="line"></span><br><span class="line">Success! - 6.70 Mega-Jollies of Laser Output Reached!</span><br></pre></td></tr></table></figure>
  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/archives/">Recent</a></li>
         
          <li><a href="https://github.com/tcmal" target="_blank" rel="noopener">GitHub</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://tcmal.xyz/laser/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://tcmal.xyz/laser/&text=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://tcmal.xyz/laser/&is_video=false&description=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Xmas Cheer Laser&body=Check out this article: http://tcmal.xyz/laser/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://tcmal.xyz/laser/&title=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://tcmal.xyz/laser/&name=Xmas Cheer Laser&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://tcmal.xyz/laser/&t=Xmas Cheer Laser" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2019-2020
    tcmal
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/archives/">Recent</a></li>
         
          <li><a href="https://github.com/tcmal" target="_blank" rel="noopener">GitHub</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
